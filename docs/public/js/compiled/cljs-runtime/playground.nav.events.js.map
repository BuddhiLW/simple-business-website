{"version":3,"sources":["playground/nav/events.cljs"],"mappings":";AAMA,yCAAA,zCAAKA,4HAAkBC,uCACA,0GAAA,1GAACC;AAGxB,qBAAA,rBAACC,yFAEA,WAAAC;AAAA,AAAA,IAAAC,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;WAAA,AAAAE,4CAAAF,eAAA,lEAAaG;AAAb,AACE,OAACC,kCAAkBD;;AAEtB,yDAAA,zDAACE,+HAEAV,uCACA,WAAAW,SAAAC;AAAA,AAAA,IAAAC,aAAAF;IAAAE,iBAAA,AAAAP,4BAAAO;UAAA,AAAAN,4CAAAM,eAAA,jEAAMI;IAANH,aAAAF;QAAA,AAAAG,4CAAAD,WAAA,IAAA,/DAAgBI;IAAhBF,aAAA,AAAAD,4CAAAD,WAAA,IAAA;IAAAE,iBAAA,AAAAV,4BAAAU;cAAA,AAAAT,4CAAAS,eAAA,rEAA0BG;mBAA1B,AAAAZ,4CAAAS,eAAA,1EAAkCI;AAAlC,AACE,IAAMH,UAAiB,kDAAA,lDAACI,8CAAMJ,sEAAiBE;IACzCG,mBAAiB,AAACC,YAAe,CAAA,6DAAsBH;IACvDI,UAAiB,AAACD,YAAe,CAAA,oDAAaN;IAC9CQ,cAAiB,AAACF,YAAe,CAAA,wDAAiBJ;AAHxD,AAIE,IAAAO,WAAMP;AAAN,AAAA,QAAAO;;AAAA,kDAAA,gDAUO;AACE,AAACH,YAAe,6CAAA,AAAA,6TACK,8DAAA,yHAAA,vLAACI,sDAAOV;;AAC7B,AAACM,YAAe,CAAA,oDAAaN;;AAC7B,qEAAA,yHAAA,vLAACU,sDAAOV;;;;;;AAEtB,yDAAA,zDAACW,mIAEA5B,uCACA,eAAA6B,JAAKZ;AAAL,AAAA,IAAAa,aAAAD;QAAA,AAAAd,4CAAAe,WAAA,IAAA,/DAAUZ;iBAAV,AAAAH,4CAAAe,WAAA,IAAA,xEAAYC;AAAZ,AACE,yDAAA,lDAACV,8CAAMJ,qEAAgBc;;AAE1B,yDAAA,zDAACH,mIAEA5B,uCACA,eAAAgC,JAAKf;AAAL,AAAA,IAAAgB,aAAAD;QAAA,AAAAjB,4CAAAkB,WAAA,IAAA,/DAAUf;kBAAV,AAAAH,4CAAAkB,WAAA,IAAA,zEAAYC;AAAZ,AACE,yDAAA,lDAACb,8CAAMJ,sEAAiBiB;;AAE3B,yDAAA,zDAACN,yIAEA5B,uCACA,WAAKiB,IAAIC;AAAT,AACE,yDAAA,qEAAA,vHAACG,8CAAMJ;;AAEV,yDAAA,zDAACW,uIAEA,eAAAO,JAAKlB;AAAL,AAAA,IAAAmB,aAAAD;QAAA,AAAApB,4CAAAqB,WAAA,IAAA,/DAAUlB;oBAAV,AAAAH,4CAAAqB,WAAA,IAAA,3EAAYC;AAAZ,AACE,kDAAA,lDAAChB,8CAAMJ,sEAAiBoB;;AACxB,OAACd,YAAec;;AAEnB","names":["playground.nav.events/nav-interceptors","playground.spec/check-spec-interceptor","re_frame.core.path","re-frame.core/reg-fx","p__49256","map__49257","cljs.core/--destructure-map","cljs.core.get","path","playground.router/set-token!","re_frame.core.reg_event_fx","p__49258","p__49259","map__49262","vec__49263","cljs.core.nth","map__49266","nav","_","handler","route-params","cljs.core.assoc","log-route-params","js/console.log","log-nav","log-handler","G__49268","cljs.core.dissoc","re_frame.core.reg_event_db","p__49275","vec__49276","active-nav","p__49283","vec__49285","active-page","p__49291","vec__49292","open-nav-menu"],"sourcesContent":["(ns playground.nav.events\n  (:require\n   [playground.router :as router]\n   [playground.spec :refer [check-spec-interceptor]]\n   [re-frame.core :refer [path reg-event-db reg-event-fx reg-fx]]))\n\n(def nav-interceptors [check-spec-interceptor\n                       (path :nav)])\n                       ;; check-spec-interceptor])\n\n(reg-fx\n :navigate-to\n (fn [{:keys [path]}]\n   (router/set-token! path)))\n\n(reg-event-fx\n :route-changed\n nav-interceptors\n (fn [{nav :db} [_ {:keys [handler route-params]}]]\n   (let [nav              (assoc nav :active-page handler)\n         log-route-params (js/console.log (str \"route-params: \" route-params))\n         log-nav          (js/console.log (str \"nav: \" nav))\n         log-handler      (js/console.log (str \"handler: \" handler))]\n     (case handler\n       ;; :recipes {:db       nav}\n                 ;; :dispatch [:mock/get-cursos]}\n\n       ;; :recipe {:db       (assoc nav :active-recipe (keyword (:recipe-id route-params)))}\n                ;; :dispatch [:mock/get-cursos]}\n\n       ;; :inbox\n       ;; {:db (assoc nav :active-inbox (keyword (:inbox-id route-params)))}\n\n       {:db (do\n              (js/console.log (str '(dissoc nav :active-recipe :active-inbox)\n                                   (dissoc nav :active-recipe :active-inbox)))\n              (js/console.log (str \"nav: \" nav))\n              (dissoc nav :active-recipe :active-inbox))}))))\n\n(reg-event-db\n :set-active-nav\n nav-interceptors\n (fn [nav [_ active-nav]]\n   (assoc nav :active-nav active-nav)))\n\n(reg-event-db\n :set-active-page\n nav-interceptors\n (fn [nav [_ active-page]]\n   (assoc nav :active-page active-page)))\n\n(reg-event-db\n :recipes/close-modal\n nav-interceptors\n (fn [nav _]\n   (assoc nav :active-modal nil)))\n\n(reg-event-db\n :set-open-nav-menu\n (fn [nav [_ open-nav-menu]]\n   (assoc nav :active-menu open-nav-menu)\n   (js/console.log open-nav-menu)))\n\n(comment)\n ;; (rf/dispatch [:set-active-nav :id-nav]))\n ;; (fn nav [a b]]) -> (a <-> :set-active-nav) ^ (b <-> :id-nav))\n"]}