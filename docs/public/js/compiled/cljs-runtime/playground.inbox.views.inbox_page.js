goog.provide('playground.inbox.views.inbox_page');
var module$node_modules$$mui$material$node$index=shadow.js.require("module$node_modules$$mui$material$node$index", {});
playground.inbox.views.inbox_page.inbox_page = (function playground$inbox$views$inbox_page$inbox_page(){
var initial_values = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"message","message",-406056002),""], null);
var values = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(initial_values);
var save = (function (p__60196){
var map__60198 = p__60196;
var map__60198__$1 = cljs.core.__destructure_map(map__60198);
var message = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__60198__$1,new cljs.core.Keyword(null,"message","message",-406056002));
if((!(clojure.string.blank_QMARK_(message)))){
re_frame.core.dispatch(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("inbox","insert-message","inbox/insert-message",1938603283),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"message","message",-406056002),clojure.string.trim(message)], null)], null));

return cljs.core.reset_BANG_(values,initial_values);
} else {
return null;
}
});
return (function (){
var chat_with = cljs.core.deref(re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("inbox","chat-with","inbox/chat-with",-757251133)], null)));
var messages = cljs.core.deref(re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("inbox","inbox-messages","inbox/inbox-messages",-547986361)], null)));
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [playground.components.page_nav.page_nav,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"left","left",-399115937),new cljs.core.Keyword(null,"inboxes","inboxes",-619615989),new cljs.core.Keyword(null,"center","center",-748944368),chat_with], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"container","container",-1736937707),true,new cljs.core.Keyword(null,"direction","direction",-633359395),"column",new cljs.core.Keyword(null,"justify-content","justify-content",-1990475787),"center",new cljs.core.Keyword(null,"align-items","align-items",-267946462),"center"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"item","item",249373802),true,new cljs.core.Keyword(null,"xs","xs",649443341),(12),new cljs.core.Keyword(null,"md","md",707286655),(6)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Box,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"display","display",242065432),"flex",new cljs.core.Keyword(null,"justify-content","justify-content",-1990475787),"center",new cljs.core.Keyword(null,"gap","gap",80255254),(5)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.FormControl,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"on-submit","on-submit",1227871159),(function (e){
e.preventDefault();

return save(cljs.core.deref(values));
}),new cljs.core.Keyword(null,"component","component",1555936782),"form"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Input,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"value","value",305978217),new cljs.core.Keyword(null,"message","message",-406056002).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(values)),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__60190_SHARP_){
return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(values,cljs.core.assoc,new cljs.core.Keyword(null,"message","message",-406056002),p1__60190_SHARP_.target.value);
})], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Box,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Button,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"size","size",1098693007),"small",new cljs.core.Keyword(null,"variant","variant",-424354234),"contained",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return save(cljs.core.deref(values));
})], null),"Send"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"lg","lg",-80787836),new cljs.core.Keyword(null,"sm","sm",-1402575065),new cljs.core.Keyword(null,"item","item",249373802),new cljs.core.Keyword(null,"flex-wrap","flex-wrap",455413707),new cljs.core.Keyword(null,"display","display",242065432),new cljs.core.Keyword(null,"sx","sx",-403071592),new cljs.core.Keyword(null,"class-name","class-name",945142584),new cljs.core.Keyword(null,"my","my",-1055703269),new cljs.core.Keyword(null,"md","md",707286655)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"min-height","min-height",398480837),"60vw"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"min-height","min-height",398480837),"65vw"], null),true,"wrap","flex",new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"min-width","min-width",1926193728),"50vw",new cljs.core.Keyword(null,"max-width","max-width",-1939924051),"70vw",new cljs.core.Keyword(null,"min-height","min-height",398480837),"60vh",new cljs.core.Keyword(null,"max-height","max-height",-612563804),"60vh"], null),"overflow-hidden overflow-y-auto",(4),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"min-height","min-height",398480837),"70vw"], null)]),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Paper,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"sx","sx",-403071592),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"p","p",151049309),(2),new cljs.core.Keyword(null,"background-color","background-color",570434026),playground.utilites.color(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"grey","grey",1875582333),new cljs.core.Keyword(null,"300","300",275272391)], null)),new cljs.core.Keyword(null,"min-width","min-width",1926193728),"65vw",new cljs.core.Keyword(null,"min-height","min-height",398480837),"60vh",new cljs.core.Keyword(null,"max-height","max-height",-612563804),"70vh"], null),new cljs.core.Keyword(null,"sm","sm",-1402575065),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"min-height","min-height",398480837),"65vw"], null),new cljs.core.Keyword(null,"md","md",707286655),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"min-height","min-height",398480837),"70vw"], null),new cljs.core.Keyword(null,"lg","lg",-80787836),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"min-height","min-height",398480837),"60vw"], null),new cljs.core.Keyword(null,"class-name","class-name",945142584),"absolute blur-sm"], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"class-name","class-name",945142584),"relative",new cljs.core.Keyword(null,"min-height","min-height",398480837),"60vh",new cljs.core.Keyword(null,"min-width","min-width",1926193728),"64vw",new cljs.core.Keyword(null,"max-width","max-width",-1939924051),"70vw"], null),(function (){var iter__5523__auto__ = (function playground$inbox$views$inbox_page$inbox_page_$_iter__60214(s__60215){
return (new cljs.core.LazySeq(null,(function (){
var s__60215__$1 = s__60215;
while(true){
var temp__5804__auto__ = cljs.core.seq(s__60215__$1);
if(temp__5804__auto__){
var s__60215__$2 = temp__5804__auto__;
if(cljs.core.chunked_seq_QMARK_(s__60215__$2)){
var c__5521__auto__ = cljs.core.chunk_first(s__60215__$2);
var size__5522__auto__ = cljs.core.count(c__5521__auto__);
var b__60217 = cljs.core.chunk_buffer(size__5522__auto__);
if((function (){var i__60216 = (0);
while(true){
if((i__60216 < size__5522__auto__)){
var map__60221 = cljs.core._nth(c__5521__auto__,i__60216);
var map__60221__$1 = cljs.core.__destructure_map(map__60221);
var message = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__60221__$1,new cljs.core.Keyword(null,"message","message",-406056002));
var author = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__60221__$1,new cljs.core.Keyword(null,"author","author",2111686192));
var created_at = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__60221__$1,new cljs.core.Keyword(null,"created-at","created-at",-89248644));
cljs.core.chunk_append(b__60217,cljs.core.with_meta(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Card,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"sx","sx",-403071592),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"border-radius","border-radius",419594011),(10),new cljs.core.Keyword(null,"mx","mx",-199887020),(2),new cljs.core.Keyword(null,"mt","mt",1155907933),(2)], null),new cljs.core.Keyword(null,"max-width","max-width",-1939924051),"70vw",new cljs.core.Keyword(null,"variant","variant",-424354234),"outlined",new cljs.core.Keyword(null,"overflow","overflow",2058931880),"hidden",new cljs.core.Keyword(null,"class-name","class-name",945142584),"overflow-hidden overflow-y-auto"], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"container","container",-1736937707),true,new cljs.core.Keyword(null,"align-items","align-items",-267946462),"center",new cljs.core.Keyword(null,"xs","xs",649443341),(12),new cljs.core.Keyword(null,"py","py",1397985916),(2),new cljs.core.Keyword(null,"pl","pl",-1690940563),(2),new cljs.core.Keyword(null,"class-name","class-name",945142584),"whitespace-pre-wrap"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"item","item",249373802),true,new cljs.core.Keyword(null,"xs","xs",649443341),(1)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"src","src",-1651076051),cljs.core.deref(re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("inbox","user-image","inbox/user-image",1636715571),author], null))),new cljs.core.Keyword(null,"alt","alt",-3214426),"user image",new cljs.core.Keyword(null,"class-name","class-name",945142584),"h-[58px] w-[58px] rounded-full object-cover object-center"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"item","item",249373802),true,new cljs.core.Keyword(null,"class-name","class-name",945142584),"white-space-pre-wrap",new cljs.core.Keyword(null,"max-width","max-width",-1939924051),"50vw",new cljs.core.Keyword(null,"overflow","overflow",2058931880),"hidden"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Typography,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class-name","class-name",945142584),"text-slate-700 whitespace-wrap break-words",new cljs.core.Keyword(null,"font-size","font-size",-1847940346),"1.2rem"], null),message], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"item","item",249373802),true,new cljs.core.Keyword(null,"px","px",281329899),(2),new cljs.core.Keyword(null,"ml","ml",1909675057),"auto"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Typography,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"variant","variant",-424354234),"body2"], null),playground.helpers.time_ago(created_at)], null)], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"created-at","created-at",-89248644).cljs$core$IFn$_invoke$arity$1(message)], null)));

var G__60228 = (i__60216 + (1));
i__60216 = G__60228;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__60217),playground$inbox$views$inbox_page$inbox_page_$_iter__60214(cljs.core.chunk_rest(s__60215__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__60217),null);
}
} else {
var map__60223 = cljs.core.first(s__60215__$2);
var map__60223__$1 = cljs.core.__destructure_map(map__60223);
var message = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__60223__$1,new cljs.core.Keyword(null,"message","message",-406056002));
var author = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__60223__$1,new cljs.core.Keyword(null,"author","author",2111686192));
var created_at = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__60223__$1,new cljs.core.Keyword(null,"created-at","created-at",-89248644));
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Card,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"sx","sx",-403071592),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"border-radius","border-radius",419594011),(10),new cljs.core.Keyword(null,"mx","mx",-199887020),(2),new cljs.core.Keyword(null,"mt","mt",1155907933),(2)], null),new cljs.core.Keyword(null,"max-width","max-width",-1939924051),"70vw",new cljs.core.Keyword(null,"variant","variant",-424354234),"outlined",new cljs.core.Keyword(null,"overflow","overflow",2058931880),"hidden",new cljs.core.Keyword(null,"class-name","class-name",945142584),"overflow-hidden overflow-y-auto"], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"container","container",-1736937707),true,new cljs.core.Keyword(null,"align-items","align-items",-267946462),"center",new cljs.core.Keyword(null,"xs","xs",649443341),(12),new cljs.core.Keyword(null,"py","py",1397985916),(2),new cljs.core.Keyword(null,"pl","pl",-1690940563),(2),new cljs.core.Keyword(null,"class-name","class-name",945142584),"whitespace-pre-wrap"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"item","item",249373802),true,new cljs.core.Keyword(null,"xs","xs",649443341),(1)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"src","src",-1651076051),cljs.core.deref(re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("inbox","user-image","inbox/user-image",1636715571),author], null))),new cljs.core.Keyword(null,"alt","alt",-3214426),"user image",new cljs.core.Keyword(null,"class-name","class-name",945142584),"h-[58px] w-[58px] rounded-full object-cover object-center"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"item","item",249373802),true,new cljs.core.Keyword(null,"class-name","class-name",945142584),"white-space-pre-wrap",new cljs.core.Keyword(null,"max-width","max-width",-1939924051),"50vw",new cljs.core.Keyword(null,"overflow","overflow",2058931880),"hidden"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Typography,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class-name","class-name",945142584),"text-slate-700 whitespace-wrap break-words",new cljs.core.Keyword(null,"font-size","font-size",-1847940346),"1.2rem"], null),message], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Grid,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"item","item",249373802),true,new cljs.core.Keyword(null,"px","px",281329899),(2),new cljs.core.Keyword(null,"ml","ml",1909675057),"auto"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$$mui$material$node$index.Typography,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"variant","variant",-424354234),"body2"], null),playground.helpers.time_ago(created_at)], null)], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"created-at","created-at",-89248644).cljs$core$IFn$_invoke$arity$1(message)], null)),playground$inbox$views$inbox_page$inbox_page_$_iter__60214(cljs.core.rest(s__60215__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__5523__auto__(messages);
})()], null)], null)], null)], null);
});
});

//# sourceMappingURL=playground.inbox.views.inbox_page.js.map
