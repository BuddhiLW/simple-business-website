{"version":3,"sources":["playground/stripe/events.cljs"],"mappings":";AAMA,yDAAA,zDAACA,8HAEA,aAAAC,FAAKM;AAAL,AAAA,IAAAL,aAAAD;YAAA,AAAAE,4CAAAD,WAAA,IAAA,nEAAQK;IAARH,aAAA,AAAAD,4CAAAD,WAAA,IAAA;IAAAE,iBAAA,AAAAC,4BAAAD;UAAA,AAAAE,4CAAAF,eAAA,jEAAkBI;AAAlB,AACE,OAAOC,YAAUD;;AAEpB,yDAAA,zDAACR,kIAEA,WAAKO,EAAEA;AAAP,AAAA,kDAAA,iEAAA,2CAAA,uDAAA,oDAAA,oNAAA,+MAAA,iOAAA,iEAAA,mFAAA,6EAAA,lzBAEiC,mHAAA,KAAA,SAAA,jIAACG,2NACD,8BAAA,2CAAA,8DAAA,vIAACC,gOACD,+BAAA,2CAAA,8DAAA,xIAACC,ubAED,WAAKC;AAAL,AAAe,mBAAA,ZAACC,sCAAyCD;;;AAE3F","names":["re_frame.core.reg_event_fx","p__50957","vec__50958","cljs.core.nth","map__50961","cljs.core/--destructure-map","cljs.core.get","_","url","js/window","playground.helpers.endpoint","ajax.core/json-request-format","ajax.core/json-response-format","response","js/console.log"],"sourcesContent":["(ns playground.stripe.events\n  (:require\n   [ajax.core :as ajax]\n   [playground.helpers :as h]\n   [re-frame.core :as rf]))\n\n(rf/reg-event-fx\n :http/redirect\n (fn [_ [_ {:keys [url]}]]\n   (.open js/window url)))\n\n(rf/reg-event-fx\n :stripe/checkout\n (fn [_ _]\n   {:http-xhrio {:method          :post\n                 :uri             (h/endpoint \"v1\" \"stripe\" \"create-checkout-session\")\n                 :format          (ajax/json-request-format {:keywords? true})\n                 :response-format (ajax/json-response-format {:keywords? true})\n                 :on-success      [:http/redirect]\n                 :on-failure      (fn [response] (js/console.log \"response error, stripe:\" response))}}))\n\n(comment\n  (= (h/endpoint \"v1\" \"stripe\" \"create-checkout-session\"\n                 \"http://localhost:8666/v1/stripe/create-checkout-session\")))\n"]}