{"version":3,"sources":["playground/inbox/views/inbox_page.cljs"],"mappings":"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","names":["playground.inbox.views.inbox-page/inbox-page","initial-values","values","reagent.core.atom","save","p__60196","map__60198","cljs.core/--destructure-map","cljs.core.get","message","clojure.string/blank?","re-frame.core/dispatch","clojure.string/trim","cljs.core/reset!","cljs.core/deref","p1__60190#","chat-with","re_frame.core.subscribe","messages","js/module$node_modules$$mui$material$node$index.Grid","playground.components.page-nav/page-nav","js/module$node_modules$$mui$material$node$index.Box","js/module$node_modules$$mui$material$node$index.FormControl","e","js/module$node_modules$$mui$material$node$index.Input","cljs.core.swap_BANG_","cljs.core/assoc","js/module$node_modules$$mui$material$node$index.Button","js/module$node_modules$$mui$material$node$index.Paper","playground.utilites/color","iter__5523__auto__","s__60215","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__60217","cljs.core/chunk-buffer","i__60216","map__60221","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__60214","cljs.core/chunk-rest","map__60223","cljs.core/first","cljs.core/cons","cljs.core/rest","author","created-at","js/module$node_modules$$mui$material$node$index.Card","js/module$node_modules$$mui$material$node$index.Typography","playground.helpers/time-ago","cljs.core/chunk-first"],"sourcesContent":["(ns playground.inbox.views.inbox-page\n  (:require\n   [\"@mui/material\" :refer [Box Button Card Grid Input Paper Typography\n                            FormControl]]\n   [playground.components.page-nav :refer [page-nav]]\n   [re-frame.core :as rf]\n   [reagent.core :as r]\n   [clojure.string :as str]\n   [playground.utilites :as util]\n   [playground.helpers :as h]))\n\n(defn inbox-page\n  []\n  (let [initial-values {:message \"\"}\n        values (r/atom initial-values)\n        save (fn [{:keys [message]}]\n               (when (not (str/blank? message))\n                 (rf/dispatch [:inbox/insert-message {:message (str/trim message)}])\n                 (reset! values initial-values)))]\n    (fn []\n      (let [chat-with @(rf/subscribe [:inbox/chat-with])\n            messages  @(rf/subscribe [:inbox/inbox-messages])]\n        [:> Grid\n         [page-nav {:left   :inboxes\n                    :center chat-with}]\n         [:> Grid {:container true\n                   :direction \"column\"\n                   :justify-content \"center\"\n                   :align-items \"center\"}\n          [:> Grid {:item true :xs 12 :md 6}\n           [:> Box {:display \"flex\"\n                    :justify-content \"center\"\n                    :gap 5}\n            [:> FormControl {:on-submit (fn [e]\n                                          (.preventDefault e)\n                                          (save @values))\n                             :component \"form\"}\n             [:> Input {:value (:message @values)\n                        :on-change #(swap! values assoc :message (.. % -target -value))}]]\n            [:> Box\n             [:> Button {:size \"small\"\n                         :variant \"contained\"\n                         :on-click #(save @values)}\n              \"Send\"]]]]\n          [:> Grid {:item true\n                    :my 4\n                    :sx {:min-width \"50vw\"\n                         :max-width \"70vw\"\n                         :min-height \"60vh\"\n                         :max-height \"60vh\"}\n                    :sm {:min-height \"65vw\"}\n                    :md {:min-height \"70vw\"}\n                    :lg {:min-height \"60vw\"}\n                    :display \"flex\"\n                    :flex-wrap \"wrap\"\n                    :class-name \"overflow-hidden overflow-y-auto\"}\n           [:> Paper {:sx {:p 2\n                           :background-color (util/color [:grey :300])\n                           :min-width \"65vw\"\n                           :min-height \"60vh\"\n                           :max-height \"70vh\"}\n                      :sm {:min-height \"65vw\"}\n                      :md {:min-height \"70vw\"}\n                      :lg {:min-height \"60vw\"}\n                      :class-name \"absolute blur-sm\"}]\n           [:> Grid {:class-name \"relative\"\n                     :min-height \"60vh\"\n                     :min-width \"64vw\"\n                     :max-width \"70vw\"}\n            (for [{:keys [message author created-at]} messages]\n              ^{:key (:created-at message)}\n              [:> Card {:sx {:border-radius 10\n                             ;; :px 2\n                             :mx 2\n                             :mt 2}\n                        :max-width \"70vw\"\n                        :variant \"outlined\"\n                        :overflow \"hidden\"\n                        :class-name \"overflow-hidden overflow-y-auto\"}\n               [:> Grid {:container true\n                         :align-items \"center\"\n                         :xs 12\n                         :py 2\n                         :pl 2\n                         :class-name \"whitespace-pre-wrap\"}\n                [:> Grid {:item true\n                          :xs 1}\n                 [:img {:src @(rf/subscribe [:inbox/user-image author])\n                        :alt \"user image\"\n                        :class-name \"h-[58px] w-[58px] rounded-full object-cover object-center\"}]]\n                [:> Grid {:item true\n                          :class-name \"white-space-pre-wrap\"\n                          :max-width \"50vw\"\n                          :overflow \"hidden\"}\n                 [:> Typography {:class-name \"text-slate-700 whitespace-wrap break-words\"\n                                 :font-size \"1.2rem\"}\n                  message]]\n                [:> Grid {:item true\n                          :px 2\n                          :ml \"auto\"}\n                 [:> Typography {:variant \"body2\"}\n                  (h/time-ago created-at)]]]])]]]]))))\n\n(comment\n  #_[:> Box {:sx {:display \"flex\"\n                  :flexDirection \"column\"\n                  :height \"100%\"}}\n     [:> Paper {:sx {:flexGrow 1\n                     :overflow \"auto\"}}]\n     [:> Container {:sx {:display \"flex\"\n                         :flexDirection \"column\"\n                         :height \"100%\"}}\n      [:> Typography {:variant \"h5\" :sx {:flexGrow 1}} \"Chat\"]\n      [:> Box {:sx {:display \"flex\"\n                    :flexDirection \"column\"\n                    :flexGrow 1\n                    :p 2}}\n       [:> Paper {:sx {:flexGrow 1\n                       :overflow \"auto\"}}]\n       [:> Container {:sx {:display \"flex\"\n                           :flexDirection \"column\"\n                           :flexGrow 1}}\n        [:> Typography {:variant \"h5\" :sx {:flexGrow 1}} \"Chat\"]\n        [:> Box {:sx {:display \"flex\"\n                      :flexDirection \"column\"\n                      :flexGrow 1\n                      :p 2}}\n         [:> Paper {:sx {:flexGrow 1\n                         :overflow \"auto\"}}]\n         [:> Container {:sx {:display \"flex\"\n                             :flexDirection \"column\"\n                             :flexGrow 1}}\n          [:> Typography {:variant \"h5\" :sx {:flexGrow 1}} \"Chat\"]\n          [:> Box {:sx {:display \"flex\"\n                        :flexDirection \"column\"\n                        :flexGrow 1\n                        :p 2}}\n           [:> Paper {:sx {:flexGrow 1\n                           :overflow \"auto\"}}]\n           [:> Container {:sx {:display \"flex\"\n                               :flexDirection \"column\"\n                               :flexGrow 1}}\n            [:> Typography {:variant \"h5\" :sx {:flexGrow 1}} \"Chat\"]\n            [:> Box {:sx {:display \"flex\"\n                          :flexDirection \"column\"\n                          :flexGrow 1\n                          :p 2}}\n             [:> Paper {:sx {:flexGrow 1\n                             :overflow \"auto\"}}]\n             [:> Container {:sx {:display \"flex\"\n                                 :flexDirection \"column\"\n                                 :flexGrow 1}}\n              [:> Typography {:variant \"h5\" :sx {:flexGrow 1}} \"Chat\"]\n              [:> Box {:sx {:display \"flex\"\n                            :flexDirection \"column\"\n                            :flexGrow 1}}]]]]]]]]]]]\n\n  #_[:div\n     [page-nav]\n     [:div\n      [:h1 \"Inbox\"]\n      [:div\n       (for [message inbox-messages]\n         [:div\n          [:p (:message message)]\n          [:p (:created-at message)]])]]\n     [:div\n      [:form\n       {:on-submit\n        (fn [e]\n          (.preventDefault e)\n          (save (:message @values)))}\n       [:div\n        [:label \"Message\"]\n        [:input\n         {:type \"text\"\n          :value (:message @values)\n          :on-change\n          (fn [e]\n            (reset! values (assoc @values :message (-> e .-target .-value))))}]]\n       [:button \"Save\"]]]])\n"]}