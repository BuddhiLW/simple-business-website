{"version":3,"sources":["playground/upload_file/views/upload_file_page.cljs"],"mappings":"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","names":["playground.upload-file.views.upload-file-page/title","js/module$node_modules$$mui$material$node$index.Box","cljs.core.get_in","cljs.core.js__GT_clj","js/module$node_modules$$mui$material$node$index.colors","js/module$node_modules$$mui$material$node$index.Typography","p1__60195#","playground.upload-file.views.upload-file-page/upload-button","handle-change","js/module$node_modules$$mui$material$node$index.Button","js/module$node_modules$$mui$icons_material$UploadFile.default","js/module$node_modules$$mui$material$node$index.Input","playground.upload-file.views.upload-file-page/preview-image","path","js/module$node_modules$$mui$material$node$index.Card","re-frame.core/dispatch","js/module$node_modules$$mui$material$node$index.CardMedia","or__5045__auto__","cljs.core/name","var_args","args__5775__auto__","len__5769__auto__","i__5770__auto__","argseq__5776__auto__","cljs.core/IndexedSeq","playground.upload-file.views.upload-file-page/preview-image-modal","p__60219","map__60220","cljs.core/--destructure-map","cljs.core.get","seq60213","self__5755__auto__","cljs.core/seq","height","width","cljs.core/deref","re_frame.core.subscribe","playground.upload-file.views.upload-file-page/upload-file-page","e","file","cljs.core/first","playground.components.page-nav/page-nav","js/module$node_modules$$mui$material$node$index.Grid","playground.components.modal/modal"],"sourcesContent":["(ns playground.upload-file.views.upload-file-page\n  (:require\n   [\"@mui/icons-material/UploadFile\" :default UploadFileIcon]\n   [\"@mui/material\" :refer [Box Button Card CardMedia colors Grid Input\n                            Typography]]\n   [goog.dom :as gdom]\n   [playground.components.modal :refer [modal]]\n   [playground.components.page-nav :refer [page-nav]]\n   [re-frame.core :as rf]))\n\n(defn title\n  []\n  [:> Box {:position \"relative\"\n           :border-radius \"12px\"\n           :width 400\n           :mb 3}\n   [:> Box {:sx {:width 400\n                 :height 50\n                 :display \"flex\"\n                 :align-items \"center\"\n                 :justify-content \"center\"\n                 :bgcolor (get-in (js->clj colors :keywordize-keys true) [:indigo :50])\n                 :border 1\n                 :border-radius 1}\n            :my \"auto\"}\n    [:> Typography\n     {:variant \"h5\"}\n     \"Demo\"]]])\n\n(defn upload-button\n  [handle-change]\n  [:> Button\n   {:variant \"contained\"\n    :component \"label\"\n    :color \"primary\"\n    :on-change #(handle-change %)}\n   [:> UploadFileIcon\n    {:sx {:mr 1}}]\n   [:> Input\n    {:type \"file\"\n     :id \"input\"\n     :placeholder \"Insert File\"\n     :style {:display \"none\"}}]\n   \"Upload File\"])\n\n(defn preview-image\n  [path]\n  [:> Card {:sx {:mt 2\n                 :mx \"auto\"\n                 :as \"a\"}\n            :on-click #(rf/dispatch [:recipes/open-modal :upload-file-modal])}\n   [:> CardMedia {:sx {:height 250\n                       :width 350}\n                  :image (str (or\n                               path\n                               \"../img/placeholder.jpg\"))\n                  :alt name}]])\n\n(defn preview-image-modal\n  [& {:keys [height width]}]\n  (fn []\n    [:> Card {:sx {:mt 2\n                   :mx \"auto\"}}\n     [:> CardMedia {:sx {:height (or height 1080)\n                         :width (or width 1200)}\n                    :image (str (or\n                                 @(rf/subscribe [:upload/latest-upload])\n                                 \"../img/placeholder.jpg\"))\n                    :alt name}]]))\n\n(defn upload-file-page\n  []\n  (let [handle-change (fn [e]\n                        (let [file (first (.-files (.-target e)))]\n                          (rf/dispatch [:http/upload-file file])))]\n\n    (fn []\n      (let [path @(rf/subscribe [:upload/latest-upload])]\n        [:<>\n         [page-nav {:center \"Upload File Example\"}]\n         [:> Card {:sx {:width 400\n                        :height 400\n                        :margin \"auto\"}}\n          [:> Grid {:container true\n                    :direction \"column\"\n                    :align-items \"center\"\n                    :justify-content \"center\"}\n           [title]\n           [upload-button handle-change]\n           [preview-image path]\n           [modal {:modal-key :upload-file-modal\n                   :title \"Zoomed preview\"\n                   :body\n                   [preview-image-modal\n                    {:height \"30rem\"\n                     :width \"50rem\"}]\n                   :footer\n                   [:> Grid {:container true\n                             :my 2\n                             :px 3\n                             :direction \"row\"\n                             :align-items \"center\"\n                             :justify-content \"right\"}\n                    [:> Button {:variant \"contained\"\n                                :color \"primary\"\n                                :on-click #(rf/dispatch [:recipes/close-modal])}\n                     \"Close\"]]}]]]]))))\n(comment\n  (let [el (gdom/getElement \"input\")\n        file (-> el\n                 (.-files)\n                 (aget 0))\n        form-data (doto (js/FormData.)\n                    (.append \"file\" file))]\n    (js/console.log form-data)))\n"]}